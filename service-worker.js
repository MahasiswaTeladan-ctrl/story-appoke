const BASE="/story-appoke",CACHE_NAME="story-app-cache-v1",urlsToCache=[`${BASE}/`,`${BASE}/index.html`,`${BASE}/manifest.json`,`${BASE}/icons/icon-192x192.png`,`${BASE}/icons/icon-512x512.png`,`${BASE}/bundle.js`],VAPID_PUBLIC_KEY="BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk";self.addEventListener("install",(function(n){n.waitUntil(caches.open(CACHE_NAME).then((function(n){return n.addAll(urlsToCache)})))})),self.addEventListener("activate",(function(n){n.waitUntil(caches.keys().then((function(n){return Promise.all(n.filter((function(n){return n!==CACHE_NAME})).map((function(n){return caches.delete(n)})))})))})),self.addEventListener("fetch",(function(n){new URL(n.request.url).origin===location.origin&&n.respondWith(caches.match(n.request).then((function(t){return t||fetch(n.request)})))})),self.addEventListener("push",(function(n){const t={body:n.data.text(),icon:`${BASE}/icons/icon-192x192.png`,badge:`${BASE}/icons/icon-192x192.png`,vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1},actions:[{action:"explore",title:"View Story",icon:`${BASE}/icons/icon-192x192.png`},{action:"close",title:"Close",icon:`${BASE}/icons/icon-192x192.png`}]};n.waitUntil(self.registration.showNotification("Story App Notification",t))})),self.addEventListener("notificationclick",(function(n){n.notification.close(),"explore"===n.action&&n.waitUntil(clients.openWindow("/story-appoke/"))}));